{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","Post","props","className","post1","post","user_name","text","liked","maxLength30","maxLengthCreator","ReduxNewPostForm","reduxForm","form","postStyle","new_post","onSubmit","handleSubmit","Field","component","Textarea","name","validate","Required","MyPosts","posts_wrapper","formData","addPost","newPostText","posts","map","el","likes","id","MyPostsContainer","connect","state","profile","dispatch","addPostActionCreator","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","ProfileInfo","cssPI","user_info","user_avatar","src","photos","small","fullName","city_info","location","city","country","lookIngForAJob","lookIngForAJobDescription","Preloader","Profile","css","content","store","ProfileContainer","userId","this","match","params","authUserId","history","getProfile","getStatus","React","Component","compose","withRouter","auth","isAuth"],"mappings":"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","file":"static/js/3.b48ceba4.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts_wrapper\":\"MyPosts_posts_wrapper__s52me\",\"new_post\":\"MyPosts_new_post__8VgyB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__g4uv7\",\"user_name\":\"Post_user_name__zADyC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user_info\":\"ProfileInfo_user_info__3nd7v\",\"user_avatar\":\"ProfileInfo_user_avatar__qeQcs\",\"status\":\"ProfileInfo_status__3MOaA\"};","import post1 from \"./Post.module.css\";\r\n\r\n\r\nconst Post = (props) => {\r\n    \r\n    return(\r\n    <div className={post1.post}>\r\n        <div className={post1.user_name}>\r\n            Макс Жубелявый\r\n        </div>\r\n        <div className=\"content\">{props.text}</div>\r\n\r\n        <span className=\"like\">{props.liked}</span>\r\n    </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Post","import postStyle from \"./MyPosts.module.css\";\r\nimport Post from \"./Post/Post\";\r\nimport React from 'react';\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { Textarea } from \"../../common/FormsControls/FormControls\";\r\nimport { Required, maxLengthCreator } from \"../../../utils/validators/validators\";\r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\n\r\nconst NewPostForm = (props) => {\r\n\r\n    return (\r\n        <form className={postStyle.new_post} onSubmit={props.handleSubmit} >\r\n            <Field component={Textarea} name=\"newPostText\"  validate={[Required,maxLength30]}/>\r\n            <button>Отправить</button>\r\n        </form> \r\n    )\r\n}\r\n\r\nconst ReduxNewPostForm = reduxForm({form: 'newPost'})(NewPostForm)\r\n\r\nconst MyPosts = (props) =>  {\r\n    const addPost = (formData) => {\r\n        props.addPost(formData.newPostText)\r\n    }\r\n        return(\r\n            <div className={postStyle.posts_wrapper}>\r\n                <ReduxNewPostForm onSubmit={addPost} />\r\n                {\r\n                    props.posts.map((el) => (<Post key={el.id} text={el.text} liked={el.likes}/>))\r\n                }         \r\n            </div>\r\n        )\r\n    \r\n}\r\n\r\n\r\nexport default MyPosts","\r\nimport { connect } from 'react-redux';\r\nimport { addPostActionCreator } from \"../../../redux/profile-reducer\";\r\nimport store from '../../../redux/redux_store';\r\nimport MyPosts from \"./MyPosts\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    \r\n    return {\r\n        posts: state.profile.posts,\r\n        newPostText: state.profile.newPostText        \r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\r\n    return {\r\n        addPost: (text) => {\r\n            dispatch( addPostActionCreator(text) )\r\n        }        \r\n    }\r\n}\r\n\r\n\r\nconst MyPostsContainer = connect(mapStateToProps,mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer","import React, { useEffect, useState } from 'react';\r\n\r\nconst ProfileStatusWithHooks  = (props) => {\r\n    /* state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    }\r\n    \r\n    activatEditMode = () => {\r\n        this.setState( {\r\n            editMode: true\r\n        })\r\n    }\r\n    deActivatEditMode = () => {\r\n        this.setState( {\r\n            editMode: false\r\n        })        \r\n        this.props.updateStatus(this.state.status);\r\n    }\r\n    onStatusChange = (e) => {\r\n            this.setState( {\r\n                status: e.currentTarget.value\r\n        } )         \r\n    }\r\n\r\n    componentDidUpdate(prevState,prevProps) {\r\n        if (prevProps.status !== this.props.status) {\r\n            this.setState({status: this.props.status})     \r\n        } \r\n    } */\r\n        /* let stateWithState = useState(false); */\r\n        /*  let editMode = stateWithState[0];\r\n        let setEditMode = stateWithState[1]; */\r\n        let [editMode, setEditMode] = useState(false);\r\n        let [status, setStatus] = useState(props.status);\r\n\r\n        useEffect(  () => {\r\n                setStatus(props.status);\r\n            }, [props.status]  );\r\n        const activateEditMode = () => {\r\n            setEditMode(true);\r\n        }\r\n        const deActivatEditMode = () => {\r\n            setEditMode(false);        \r\n            props.updateStatus(status);\r\n\r\n        }\r\n        \r\n        const onStatusChange = (e) => {\r\n            setStatus(e.currentTarget.value)         \r\n        }\r\n       \r\n        return (\r\n            <>\r\n            {!editMode && \r\n                <div className={props.className}>\r\n                    <span onDoubleClick={ activateEditMode }>{status || \"change status...\" }</span>\r\n                </div>\r\n            }\r\n            {editMode && \r\n                <div>\r\n                    <input onChange={onStatusChange} value={status} autoFocus={true} onBlur={deActivatEditMode}/>\r\n                    <button>сохранить</button>\r\n                </div>            \r\n            }\r\n            \r\n            </>\r\n        )\r\n    \r\n}\r\n\r\nexport default ProfileStatusWithHooks","import Preloader from '../../common/Preloader/Preloader';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\n\r\nimport cssPI from './ProfileInfo.module.css';\r\nconst ProfileInfo = ({profile,status,updateStatus}) => {\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    } \r\n    else {\r\n        return (\r\n            <>\r\n            <div className={cssPI.user_info}>\r\n                <div className={cssPI.user_avatar}>\r\n                    <img src={profile.photos.small}/>\r\n                </div>\r\n                <div className=\"user_info\">\r\n                    <div className=\"user-name\">\r\n                    {profile.fullName}\r\n                    </div>\r\n                    <ProfileStatusWithHooks className={cssPI.status} status={status} updateStatus={updateStatus}/>\r\n                    <div className={cssPI.city_info}>\r\n                    {profile.location.city + \", \" + profile.location.country}\r\n                    </div>\r\n                    \r\n                </div>\r\n                \r\n            </div>\r\n            { profile.lookIngForAJob ? <div>Ищу работу: {profile.lookIngForAJobDescription}</div> : ''}\r\n            </>\r\n            )\r\n    }\r\n       \r\n}\r\n\r\nexport default ProfileInfo;","import css from './Profile.module.css';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport React from 'react';\r\n\r\n\r\n\r\nconst Profile = (props) => {\r\n    return(\r\n        <div className={css.content}>\r\n          <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus} />\r\n\r\n          <MyPostsContainer store={props.store}/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default Profile","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { getProfile, getStatus, updateStatus } from '../../redux/profile-reducer';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends React.Component {  \r\n    withAuth\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authUserId\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\")\r\n            }\r\n        }\r\n        /* if (!userId) {\r\n            if (this.props.thisUserId) {\r\n                userId  = this.props.thisUserId\r\n            }\r\n            else {                \r\n                \r\n                return <Redirect to={'/login'}/>\r\n            }\r\n        } */\r\n        this.props.getProfile(userId)\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    render () {\r\n        /* console.log('RENDER PROFILE') */\r\n        return(\r\n            <Profile {...this.props} \r\n                status={this.props.status} \r\n                updateStatus={this.props.updateStatus}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    /* console.log('mapStateToProps Profile') */\r\n    return ({\r\n        profile: state.profile.profile,\r\n        status: state.profile.status,\r\n        authUserId: state.auth.userId,\r\n        isAuth: state.auth.isAuth,\r\n    })\r\n}\r\nexport default compose(\r\n        withRouter,\r\n        connect(\r\n            mapStateToProps, \r\n            {\r\n                getProfile,\r\n                getStatus,\r\n                updateStatus\r\n            }\r\n        )\r\n    )\r\n    (ProfileContainer)\r\n\r\n"],"sourceRoot":""}